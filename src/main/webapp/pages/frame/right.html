<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	
	<body>
	
		<!-- less
			<link rel="stylesheet/less" type="text/css" th:href="@{/assets/less/test.less}"/>
	    	<script>less = { env: 'development'};</script>
	    	<script th:src="@{/assets/js/less_2.5.3.js}" type="text/javascript"></script>
	    	<script>less.watch();</script> 
	    -->
	    
	    <script type="text/javascript" th:src="@{/assets/js/echarts.js}"></script>
		<script type="text/javascript" th:inline="javascript">
			$(function(){
				// 基于准备好的dom，初始化echarts实例
		        var myChart = echarts.init(document.getElementById('main'));
		
		        // 指定图表的配置项和数据
		        var option = {
		            tooltip: {},
		            legend: {
		                data:['销量']
		            },
		            xAxis: {
		                data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
		            },
		            yAxis: {},
		            series: [{
		                name: '销量',
		                type: 'bar',
		                data: [5, 20, 36, 10, 10, 20]
		            }]
		        };
		
		        // 使用刚指定的配置项和数据显示图表。
		        myChart.setOption(option);
			});
		</script>
		<div id="main" style="width: 600px;height:400px;"></div>
		
	  <div id="messages"></div>
	  <script type="text/javascript">
		    var webSocket = new WebSocket('ws://localhost/fang-bian-mian/websocket');
		 
		    webSocket.onerror = function(event) {
		    	alert(event.data);
		    };
		 
		    webSocket.onopen = function(event) {
		    	document.getElementById('messages').innerHTML = 'Connection established';
		    };
		 
		    webSocket.onmessage = function(event) {
		    	document.getElementById('messages').innerHTML += '<br />' + event.data;
		    };
		 
		 
		    function start() {
		      webSocket.send('hello');
		      return false;
		    }
	  </script>
	  <div>
	    	<input type="submit" value="Start" onclick="start()" />
  	  </div>
	</body>
</html>
