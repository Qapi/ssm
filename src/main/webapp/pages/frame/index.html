<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
	<head th:include="fragment/import :: header"></head>
	<title>首页</title>
	
	<link rel="stylesheet/less" type="text/css" th:href="@{/assets/less/base/index.less}"/>
	
	<!-- WebSocket -->
    <script type="text/javascript" th:src="@{/assets/plugins/websocket/sockjs-0.3.4.js}"></script>
    <script type="text/javascript" th:src="@{/assets/plugins/websocket/stomp.js}"></script>

	<!-- less -->
    <script>less = { env: 'development'};</script>
    <script th:src="@{/assets/js/less_2.5.3.js}" type="text/javascript"></script>
    <script>less.watch();</script>
    
	<script type="text/javascript" th:inline="javascript">
		/*<![CDATA[*/
		    //项目根路径
			var rootPath = [[@{/}]];
		    //websocket请求前缀
			var wsPrefix = location.href.split(rootPath)[0] + rootPath;   
		    //websocket对象
			var websocket;
		    
		    //设置websocket前缀
		 	if (wsPrefix.slice(0, 5) === 'https') {
				wsPrefix = 'wss' + wsPrefix.slice(5);
		    } else {
		    	wsPrefix = 'ws' + wsPrefix.slice(4);
		    }

		    //创建WebSocket对象
            if ('WebSocket' in window) {
                websocket = new WebSocket(wsPrefix + "veg");
            } else if ('MozWebSocket' in window) {
                websocket = new MozWebSocket("ws://veg");
            } else {
                websocket = new SockJS(wsPrefix + "com/veg");
            }

			//刷新内容页
			function refresh(path){
				$("#right").panel("refresh",path);
			}
			
		/*]]>*/
	</script>
	
	<body class="easyui-layout">
	    <!-- <div id="top" data-options="region:'north', href:'top',border:false" class=".BBW"></div>
	    <div id="bottom" data-options="region:'south', href:'bottom',border:false" style="height:30px;background: gray"></div>
	    <div id="left" data-options="region:'west', href:'left',split:false,border:false" style="width:250px;"></div>
	    <div id="right" data-options="region:'center', href:'right',border:false" style="overflow: hidden;"></div> -->
		
		<div id="left" data-options="region:'west',border:false,href:'left',loadingMessage:'数据加载中....'" style="width:267px;background-color: #EEE"></div>
	    <div data-options="region:'center',border:false">
	       <div class="easyui-layout" data-options="fit:true,border:false">
	            <div id="top" data-options="region:'north',border:false,href:'top',loadingMessage:'数据加载中....'" style="height:72px;overflow-y: hidden"></div>
	            <div id="right" data-options="region:'center',border:false,href:'right',loadingMessage:'数据加载中....'"></div>
	        </div>
	    </div>
	    <!-- <div id="bottom" data-options="region:'south', href:'bottom',border:false" style="height:30px;background: gray"></div> -->
	</body>
</html>
